# 人機對戰
--------------------------------------------
## 版本一介紹：（2024/07/18完成）  
- 可在終端中進行人機五子棋對決
- 會以**文字**的形式實時更新棋盤情況  
- **問題：**
  - 若要更“聰明”的AI（搜索深度加深），運算時間嚴重拉長
  - 剪枝效率不佳
- **執行流程：**   
  1)下載gomoku.c, ai.h, ai.c（3個檔案）    
  2)打開終端，導航到這些檔案所在的目錄，然後輸入以下命令來編譯檔案：    
  ```
  gcc gomoku.c ai.c -o gomoku.exe  
  ```
  3)執行編譯好的執行檔
  ```
  ./gomoku.exe
  ```
--------------------------------
## 版本二介紹：（2024/08/01完成）
- 添加顯示運算時間  
- 優先檢查有沒有可以直接獲勝的坐標（避免被剪枝跳過）  
- 使用哈希表（如置换表）可以通过以下几个方面加快运算过程：  
  1. **避免重复计算：** 在搜索过程中，如果同一个棋盘状态多次出现，使用哈希表可以直接获取之前计算的结果，避免重复计算  
  2. **剪枝优化：** 在 Alpha-Beta 剪枝过程中，可以通过哈希表快速确定某些分支的上界或下界，从而提前剪枝      
  3. **深度缓存：** 可以存储特定深度的评估值，在相同或更浅的深度再次遇到相同状态时，可以直接使用缓存的结果  
- **問題：**
  - ~~發現突然輸入(1,1)等位置落子后，會照常計算量過大崩潰~~ --> 檢查周圍**5*5**是否有棋子的功能快速排除  
  - 雖然使用哈希表加快了些，可是計算時間仍然不達標（目標**5s**内）  
- **執行流程：**   
  1)下載gomoku.c, ai.h, ai.c（3個檔案）    
  2)打開終端，導航到這些檔案所在的目錄，然後輸入以下命令來編譯檔案：    
  ```
  gcc gomoku.c ai.c -o gomoku.exe  
  ```
  3)執行編譯好的執行檔
  ```
  ./gomoku.exe
  ```

--------------------------------------
## 版本三介紹：（2024/09/05完成）
- 優先判斷並處理殘局（AI/對手已經四連）（8/20已完成）  
- 通過更新圖片來顯示游戲畫面(9/2已完成)  
- 排序更有效的落子坐標，更快地進行剪枝 -----> ***減少運算時間***（完成）  
- **問題：**  
  - ~~有時會忽略後期有效的棋路，例如**00111**變成**10111**時~~（9/4已完成）  
  - ~~將sortMove函數套入miniMax函數后，導致判斷嚴重失誤~~（發現是固定指針錯誤，已處理）
- **執行流程：**   
  1)下載gomoku.c, ai.h, ai.c, printchess.py（4個檔案）    
  2)打開終端，導航到這些檔案所在的目錄，然後輸入以下命令來編譯檔案：    
  ```
  gcc gomoku.c ai.c -o gomoku.exe  
  ```
  3)執行編譯好的執行檔
  ```
  ./gomoku.exe
  ```
  4)再執行printchess.py檔案
  ```
  python printchess.py
  ```
-------------
## 版本四介紹：
- **c函數庫**鏈接python檔案使用  
 ```
gcc -shared -o ai.dll -fPIC ai.c
``` 
- 優化游戲畫面，并且可進行交互（使用鼠標點擊即可）---》使用**graphic.py**（10/9已完成）  
- 打包成別人下載即可使用的文件---》使用**pyinstaller**（10/12已完成）  
 ```
pyinstaller --onefile --add-data "200w.gif;." --add-binary "ai.dll:." printchess_v2.py
```
- 完善了判斷連綫情況+禁手規則---》**update function of checkLine()**（10/13已完成） 
- 增加悔棋、重玩、退出的功能  
- 簡化程式，去除重複且冗長的代碼  
- **執行流程：**   
  1)下載並打開**gomoku.exe**即可（1個檔案）
